{"version":3,"sources":["services/persons.js","persons/SuccessNotification.js","persons/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","newPerson","post","id","put","newObject","delete","SuccessNotification","message","className","ErrorNotification","Name","person","deleteContact","name","phonenumber","filterName","onClick","Filter","p","value","onChange","handleFilterNameChange","Persons","persons","map","index","includes","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Footer","style","color","fontStyle","fontSize","App","useState","setPersons","setNewName","setNewNumber","setFilterName","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personsService","then","response","data","ErrorSetTimeOut","setTimeout","event","target","preventDefault","personFilter","filter","number","length","window","confirm","console","log","concat","catch","error","warn","deletionResponse","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01b3d8dd.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n  }\r\n  \r\n  const create = newPerson => {\r\n    return axios.post(baseUrl, newPerson)\r\n  }\r\n  \r\n  const update = (id, newPerson) => {\r\n    return axios.put(`${baseUrl}/${id}`, newPerson)\r\n  }\r\n\r\n  const remove = (id, newObject) => {\r\n    return axios.delete(`${baseUrl}/${id}`, newObject)\r\n  }\r\n  \r\n  export default { \r\n    getAll: getAll, \r\n    create: create, \r\n    update: update,\r\n    remove: remove\r\n  }","import React from 'react'\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"success\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SuccessNotification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorNotification","import React, { useEffect, useState } from 'react'\r\nimport personsService from './services/persons'\r\nimport SuccessNotification from './persons/SuccessNotification'\r\nimport ErrorNotification from './persons/ErrorNotification'\r\n\r\nconst Name = ({ person, deleteContact }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.phonenumber} {person.filterName}\r\n      <button onClick={() => deleteContact(person)}> Delete </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Filter = (p) => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        filter shown with{\" \"}\r\n        <input value={p.filterName}\r\n          onChange={p.handleFilterNameChange}\r\n        />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Persons = (p, deleteContact) => {\r\n  return (\r\n    <div>\r\n      {p.persons.map((person, index) =>\r\n        person.name.includes(p.filterName) ?\r\n          (<Name key={index} person={person} filterName={p.filterName} deleteContact={p.deleteContact} />\r\n          ) : null\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm = (p) => {\r\n  return (\r\n    <form onSubmit={p.addName}>\r\n      <div>\r\n        name: <input value={p.newName}\r\n          onChange={p.handleNameChange} />\r\n        <br />\r\n        <div>\r\n          number: <input value={p.newNumber}\r\n            onChange={p.handleNumberChange} />\r\n        </div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>Phonebook app, Department of Computer Science, University of Helsinki 2021</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('a new name')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterName, setFilterName] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const hook = () => {\r\n    personsService.getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n  const ErrorSetTimeOut = (message) => {\r\n    setErrorMessage(message)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  }\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n    console.log(persons.filter((person) => person.name === newName));\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterNameChange = (event) => {\r\n    setFilterName(event.target.value)\r\n  }\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const personFilter = persons.filter(person => person.name === newName)\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (personFilter.length > 0) {\r\n      const person = personFilter[0]\r\n      if (window.confirm(`${person.name} is alredy added to phonebook, replace the old number with a new one?`)) {\r\n        console.log(`deleting note id: ${person.id}`);\r\n        personsService.update(person.id, newPerson).then((response) => {\r\n          console.log(response.data);\r\n          setPersons([...persons.filter((p) => p.id !== person.id), response.data]);\r\n        });\r\n      }\r\n      return\r\n    }\r\n\r\n    personsService\r\n      .create(newPerson)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        console.log(response.data)\r\n        setSuccessMessage(\r\n          `Added ${newName} `\r\n        )\r\n        setTimeout(() => {\r\n          setSuccessMessage(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        if( error.response ) {\r\n          ErrorSetTimeOut(error.response.data.error)\r\n          console.warn(error.response.data.error); // => the response payload \r\n        }\r\n      })\r\n  }\r\n\r\n  const deleteContact = (person) => {\r\n    if (window.confirm(`Delete ${person.name}? `)) {\r\n      console.log(`deleting note id: ${person.id}`);\r\n      personsService.remove(person.id).then((deletionResponse) => {\r\n        console.log(deletionResponse);\r\n        setPersons(persons.filter((p) => p.id !== person.id));\r\n      })\r\n        .catch(error => {\r\n          ErrorSetTimeOut('Information of' + person.name + 'has already been removed from server')\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <ErrorNotification message={errorMessage} />\r\n      <SuccessNotification message={successMessage} />\r\n      <Filter\r\n        filterName={filterName}\r\n        handleFilterNameChange={handleFilterNameChange} />\r\n      <h3>add a new</h3>\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange} />\r\n      <h3>Numbers</h3>\r\n      <Persons\r\n        persons={persons}\r\n        filterName={filterName}\r\n        deleteContact={deleteContact} />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}